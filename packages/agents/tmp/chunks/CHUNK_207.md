chatRouterpostcompletions asyncHandlerchatControllerchatbindchatController
export default chatRouter
Router ajustado para usar ChatController e método chat conforme o novo padrão
User
ode aplicar
te forneci alguns super poderem pra te ajudar
controllerts ainda a erros nos controllers
Cursor
typescript
  existing code 
if model 
const modelMetadata  await modelDictionaryfindByModelmodel
if modelMetadata throw new ErrorModelo não encontrado no dicionário
return 
resolvedProvider provider  modelMetadataprofileprovidertoLowerCase
resolvedModel modelMetadataprofilemodel
modelMetadata
if provider 
const providerModels  await modelDictionaryfindByProviderprovider
if providerModelslength
throw new ErrorNenhum modelo encontrado para o provider informado
return 
resolvedProvider providertoLowerCase
resolvedModel providerModels0profilemodel
modelMetadata providerModels0
  existing code 