version: '3'

# ğŸ­ Taskfile Enterprise - Slice/ALIVE Providers Server
# Seguindo padrÃ£o: https://github.com/slice/ecosystem/docs/TASK_FILES.md
#
# PrincÃ­pios:
# - Plug-and-Play Total: task install deve deixar tudo funcionando
# - Scripts organizados em /scripts (nunca comandos diretos aqui)
# - ValidaÃ§Ã£o Forte em cada etapa
# - RestauraÃ§Ã£o RÃ¡pida do ecossistema
# - Incrementalismo: cada task valida antes de prosseguir

tasks:
  install:
    desc: "ğŸš€ InstalaÃ§Ã£o completa plug-and-play (CLP industrial)"
    cmds:
      - python3 scripts/install.py

  dev:
    desc: "ğŸ”§ Modo desenvolvimento com reload automÃ¡tico"
    cmds:
      - python3 scripts/dev.py

  start:
    desc: "â–¶ï¸  ProduÃ§Ã£o (servidor estÃ¡vel)"
    cmds:
      - python3 scripts/start.py

  test:
    desc: "âœ… Executa todos os testes automatizados"
    cmds:
      - python3 scripts/test.py

  test-unit:
    desc: "ğŸ§ª Apenas testes unitÃ¡rios"
    cmds:
      - python3 scripts/test.py --unit

  test-integration:
    desc: "ğŸ”— Apenas testes de integraÃ§Ã£o"
    cmds:
      - python3 scripts/test.py --integration

  lint:
    desc: "ğŸ¨ Linting e formataÃ§Ã£o (black, isort, flake8, mypy)"
    cmds:
      - python3 scripts/lint.py

  validate:
    desc: "ğŸ” ValidaÃ§Ã£o completa (lint + test + health)"
    cmds:
      - python3 scripts/validate.py

  health:
    desc: "â¤ï¸  Health check do servidor"
    cmds:
      - python3 scripts/health.py

  models:
    desc: "ğŸ“¦ Gerenciamento de modelos HuggingFace"
    cmds:
      - python3 scripts/models.py {{.CLI_ARGS}}

  clean:
    desc: "ğŸ§¹ Limpeza de arquivos temporÃ¡rios"
    cmds:
      - python3 scripts/clean.py

  reset:
    desc: "ğŸ”„ RestauraÃ§Ã£o rÃ¡pida do ambiente (< 30min)"
    cmds:
      - python3 scripts/reset.py

  logs:
    desc: "ğŸ“‹ Visualizar logs do servidor"
    cmds:
      - python3 scripts/logs.py

  shell:
    desc: "ğŸš Shell interativo com ambiente carregado"
    cmds:
      - python3 scripts/shell.py

  deps:
    desc: "ğŸ“Š AnÃ¡lise de dependÃªncias e licenÃ§as"
    cmds:
      - python3 scripts/deps.py

  benchmark:
    desc: "âš¡ Benchmark de performance dos modelos"
    cmds:
      - python3 scripts/benchmark.py
